{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","services/notes.js","App.js","reportWebVitals.js","index.js"],"names":["Persons","props","mapped","persons","filter","person","name","toLowerCase","includes","filter_by","map","onSubmit","text","event","window","confirm","axios","delete","then","response","data","number","type","PersonForm","addName","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","Filter","handleFilterChange","baseUrl","get","newObject","post","id","put","App","useState","setPersons","useEffect","noteService","console","log","setFilter_by","setNewName","setNewNumber","message","setMessage","Notification","className","target","preventDefault","found","findIndex","catch","error","setTimeout","added","concat","el","document","createElement","innerHTML","getElementsByTagName","innerText","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"wLAiCeA,EA9BC,SAACC,GACb,IAeMC,EAFYD,EAAME,QAAQC,QAC5B,SAAAC,GAAM,OAAIA,EAAOC,KAAKC,cAAcC,SAASP,EAAMQ,UAAUF,kBACzCG,KACpB,SAAAL,GAAM,OACN,sBAAMM,UAfWC,EAeYP,EAfL,SAAAQ,GACpBC,OAAOC,QAAQ,UAAYH,EAAI,KAAW,MAC1CI,IACCC,OALO,eAKQL,EAAI,IACnBM,MAAK,SAAAC,GAAQ,OAAEA,EAASC,UAW7B,SACA,+BAAKf,EAAOC,KAAZ,IAAmBD,EAAOgB,OAC1B,wBAAQC,KAAK,SAAb,yBAjBiB,IAAAV,KAqBrB,OACA,6BACKV,KCNMqB,EArBI,SAACtB,GAChB,OACI,uBAAMU,SAAUV,EAAMuB,QAAtB,UACA,wCAEE,uBACAC,MAAOxB,EAAMyB,QACbC,SAAU1B,EAAM2B,sBAElB,0CAEE,uBACAH,MAAOxB,EAAM4B,UACbF,SAAU1B,EAAM6B,wBAElB,8BACE,wBAAQR,KAAK,SAAb,uBCNKS,EAVA,SAAC9B,GACZ,OACA,oDAEI,uBACAwB,MAAOxB,EAAMQ,UACbkB,SAAU1B,EAAM+B,yBCPlBC,EAAU,gBAkBC,EAfF,WAEX,OADgBjB,IAAMkB,IAAID,GACXf,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAAAe,GAEb,OADgBnB,IAAMoB,KAAKH,EAASE,GACrBjB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALA,SAACiB,EAAIF,GAElB,OADgBnB,IAAMsB,IAAN,UAAaL,GAAb,OAAuBI,GAAMF,GAC9BjB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCwF9BmB,EAhGH,WAEV,MAA8BC,mBAAS,IAAvC,mBAAOrC,EAAP,KAAgBsC,EAAhB,KACAC,qBAAU,WACRC,IAEGzB,MAAK,SAAAN,GACJgC,QAAQC,IAAIjC,GACZ6B,EAAW7B,QAEd,IAEH,MAAkC4B,mBAAS,IAA3C,mBAAQ/B,EAAR,KAAkBqC,EAAlB,KACA,EAAgCN,mBAAS,IAAzC,mBAAQd,EAAR,KAAiBqB,EAAjB,KACA,EAAoCP,mBAAS,IAA7C,mBAAQX,EAAR,KAAmBmB,EAAnB,KAWA,EAA6BR,mBAAS,MAAtC,mBAAOS,EAAP,KAAeC,EAAf,KAEMC,EAAe,SAAC,GAAiB,IAAfF,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAIP,qBAAKG,UAAU,QAAf,SACGH,KAgDP,OACE,gCACE,cAACE,EAAD,CAAcF,QAASA,IACvB,2CACA,cAAC,EAAD,CAAQxC,UAAWA,EAAWuB,mBAjEP,SAACnB,GAC1BiC,EAAajC,EAAMwC,OAAO5B,UAiExB,4CACA,cAAC,EAAD,CAAYD,QAjDA,SAACX,GACfA,EAAMyC,iBACN,IAAMC,EAAQpD,EAAQqD,WAAU,SAAAnD,GAAM,OAAIA,EAAOC,OAASoB,MAC7C,IAAT6B,EACEzC,OAAOC,QAAQW,EAAU,gFAC3BiB,EACQxC,EAAQoD,GAAR,GAAqB,CAACjD,KAAMoB,EAAQL,OAAQQ,IACnDX,MAAK,SAAAC,GAAQ,OAAEyB,QAAQC,IAAI1B,MAC3BsC,OAAM,SAAAC,GAAK,OAAER,EAAW,kBAAoBxB,EAAU,+BACvDe,EAAWtC,EACRO,KAAI,SAAAL,GAAM,OAAEA,EAAM,OAAWqB,EAAU,CAAC,KAAOA,EAAS,OAASG,EAAU,GAAMxB,EAAM,IAAUA,MACpG0C,EAAW,IACXC,EAAa,IACbE,EAAW,WAAaxB,GACxBiC,YAAW,WACTT,EAAW,QACV,MAKLP,EACQ,CAACrC,KAAMoB,EAAQL,OAAQQ,IAC9BX,MAAK,SAAA0C,GACJnB,EAAWtC,EAAQ0D,OAAOD,IAC1Bb,EAAW,IACXC,EAAa,IACbE,EAAW,SAAWxB,GACtBiC,YAAW,WACTT,EAAW,QACV,QAEJO,OAAM,SAAAC,GACL,IAAMI,EAAKC,SAASC,cAAe,QACnCF,EAAGG,UAAYP,EAAMvC,SAASC,KAC9B8B,EAAWY,EAAGI,qBAAqB,OAAO,GAAGC,WAC7CR,YAAW,WACTT,EAAW,QACV,SAWyBxB,QAASA,EACvCE,iBA1EqB,SAACf,GACxBkC,EAAWlC,EAAMwC,OAAO5B,QAyEcI,UAAWA,EAAWC,mBAvEnC,SAACjB,GAC1BmC,EAAanC,EAAMwC,OAAO5B,UAuExB,yCACA,cAAC,EAAD,CAAStB,QAASA,EAASM,UAAWA,QCvF7B2D,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBpD,MAAK,YAAkD,IAA/CqD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFf,SAASgB,eAAe,SAM1BX,K","file":"static/js/main.b4a20938.chunk.js","sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\n\r\nconst Persons = (props) =>{\r\n    const baseUrl = 'api/persons/'\r\n    //const baseUrl = 'http://localhost:3001/api/persons/'\r\n    const handleDelete = text =>event=>{\r\n        if (window.confirm(\"Delete \" + text[\"name\"] + \"?\")) {\r\n            axios\r\n            .delete(baseUrl+text['id'])\r\n            .then(response=>response.data)\r\n          }\r\n        \r\n        //event.preventDefault()\r\n        //props.setPersons(props.persons.filter(person=>person!==text))\r\n        //console.log(props.persons)\r\n    }\r\n    const filtered = (props.persons.filter(\r\n        person => person.name.toLowerCase().includes(props.filter_by.toLowerCase())))\r\n    const mapped = filtered.map(\r\n        person => \r\n        <form onSubmit={handleDelete(person)}>\r\n        <li>{person.name} {person.number}\r\n        <button type=\"submit\">delete</button>\r\n        </li>\r\n        </form>\r\n        )\r\n    return(\r\n    <ul>\r\n        {mapped}\r\n    </ul>\r\n    )\r\n}\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst PersonForm = (props) =>{\r\n    return(\r\n        <form onSubmit={props.addName}>\r\n        <div>\r\n          name: \r\n          <input \r\n          value={props.newName}\r\n          onChange={props.handleNameChange}/>\r\n        </div>\r\n        <div>\r\n          number:\r\n          <input\r\n          value={props.newNumber}\r\n          onChange={props.handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = (props) =>{\r\n    return(\r\n    <div>\r\n        Filter shown with\r\n        <input\r\n        value={props.filter_by}\r\n        onChange={props.handleFilterChange}/>\r\n    </div>)\r\n}\r\n\r\nexport default Filter\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons/'\r\n//const baseUrl = 'http://localhost:3001/api/persons/'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  export default { \r\n    getAll: getAll, \r\n    create: create, \r\n    update: update \r\n  }","import React, { useState, useEffect} from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport noteService from './services/notes'\nimport axios from 'axios'\nimport './index.css'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  useEffect(() => {\n    noteService\n      .getAll()\n      .then(text => {\n        console.log(text)\n        setPersons(text)\n      })\n  }, [])\n\n  const [ filter_by,setFilter_by] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setFilter_by(event.target.value)\n  } \n\n  const [message,setMessage] = useState(null)\n\n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\n  const addName = (event) =>{\n    event.preventDefault()\n    const found = persons.findIndex(person => person.name === newName)\n    if (found!==-1){\n      if (window.confirm(newName + ' is already added to the phonebook, replace the old number with a new one?')){\n        noteService\n        .update(persons[found]['id'],{name: newName,number: newNumber})\n        .then(response=>console.log(response))\n        .catch(error=>setMessage('Information of ' + newName + 'has already been removed'))\n        setPersons(persons\n          .map(person=>person['name']===newName ? {\"name\":newName, \"number\":newNumber,\"id\": person['id']} : person))\n        setNewName('')\n        setNewNumber('')\n        setMessage('Updated ' + newName)\n        setTimeout(() => {\n          setMessage(null)\n        }, 2000)\n       // setMessage('')\n      }\n    }\n    else{\n      noteService\n      .create({name: newName,number: newNumber})\n      .then(added => {\n        setPersons(persons.concat(added))\n        setNewName('')\n        setNewNumber('')\n        setMessage('Added ' + newName)\n        setTimeout(() => {\n          setMessage(null)\n        }, 2000)\n      })\n      .catch(error =>{\n        const el = document.createElement( 'html' )\n        el.innerHTML = error.response.data\n        setMessage(el.getElementsByTagName('pre')[0].innerText)\n        setTimeout(() => {\n          setMessage(null)\n        }, 2000)\n      })\n    }\n  }\n\n  return (\n    <div>\n      <Notification message={message}/>\n      <h2>Phonebook</h2>\n      <Filter filter_by={filter_by} handleFilterChange={handleFilterChange}/>\n      <h3> Add a new</h3>\n      <PersonForm addName={addName} newName={newName} \n      handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n      <h3>Numbers</h3>\n      <Persons persons={persons} filter_by={filter_by}/>\n    </div>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}